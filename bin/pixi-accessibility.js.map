{"version":3,"sources":["node_modules/browser-pack/_prelude.js","node_modules/ismobilejs/isMobile.js","src/AccessibilityManager.js","src/accessibleTarget.js","src/index"],"names":[],"mappings":"AAAA;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACzIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACriBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC5CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"pixi-accessibility.js","sourceRoot":"./","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","/**\n * isMobile.js v0.4.0\n *\n * A simple library to detect Apple phones and tablets,\n * Android phones and tablets, other mobile devices (like blackberry, mini-opera and windows phone),\n * and any kind of seven inch device, via user agent sniffing.\n *\n * @author: Kai Mallea (kmallea@gmail.com)\n *\n * @license: http://creativecommons.org/publicdomain/zero/1.0/\n */\n(function (global) {\n\n    var apple_phone         = /iPhone/i,\n        apple_ipod          = /iPod/i,\n        apple_tablet        = /iPad/i,\n        android_phone       = /(?=.*\\bAndroid\\b)(?=.*\\bMobile\\b)/i, // Match 'Android' AND 'Mobile'\n        android_tablet      = /Android/i,\n        amazon_phone        = /(?=.*\\bAndroid\\b)(?=.*\\bSD4930UR\\b)/i,\n        amazon_tablet       = /(?=.*\\bAndroid\\b)(?=.*\\b(?:KFOT|KFTT|KFJWI|KFJWA|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|KFARWI|KFASWI|KFSAWI|KFSAWA)\\b)/i,\n        windows_phone       = /IEMobile/i,\n        windows_tablet      = /(?=.*\\bWindows\\b)(?=.*\\bARM\\b)/i, // Match 'Windows' AND 'ARM'\n        other_blackberry    = /BlackBerry/i,\n        other_blackberry_10 = /BB10/i,\n        other_opera         = /Opera Mini/i,\n        other_chrome        = /(CriOS|Chrome)(?=.*\\bMobile\\b)/i,\n        other_firefox       = /(?=.*\\bFirefox\\b)(?=.*\\bMobile\\b)/i, // Match 'Firefox' AND 'Mobile'\n        seven_inch = new RegExp(\n            '(?:' +         // Non-capturing group\n\n            'Nexus 7' +     // Nexus 7\n\n            '|' +           // OR\n\n            'BNTV250' +     // B&N Nook Tablet 7 inch\n\n            '|' +           // OR\n\n            'Kindle Fire' + // Kindle Fire\n\n            '|' +           // OR\n\n            'Silk' +        // Kindle Fire, Silk Accelerated\n\n            '|' +           // OR\n\n            'GT-P1000' +    // Galaxy Tab 7 inch\n\n            ')',            // End non-capturing group\n\n            'i');           // Case-insensitive matching\n\n    var match = function(regex, userAgent) {\n        return regex.test(userAgent);\n    };\n\n    var IsMobileClass = function(userAgent) {\n        var ua = userAgent || navigator.userAgent;\n\n        // Facebook mobile app's integrated browser adds a bunch of strings that\n        // match everything. Strip it out if it exists.\n        var tmp = ua.split('[FBAN');\n        if (typeof tmp[1] !== 'undefined') {\n            ua = tmp[0];\n        }\n\n        // Twitter mobile app's integrated browser on iPad adds a \"Twitter for\n        // iPhone\" string. Same probable happens on other tablet platforms.\n        // This will confuse detection so strip it out if it exists.\n        tmp = ua.split('Twitter');\n        if (typeof tmp[1] !== 'undefined') {\n            ua = tmp[0];\n        }\n\n        this.apple = {\n            phone:  match(apple_phone, ua),\n            ipod:   match(apple_ipod, ua),\n            tablet: !match(apple_phone, ua) && match(apple_tablet, ua),\n            device: match(apple_phone, ua) || match(apple_ipod, ua) || match(apple_tablet, ua)\n        };\n        this.amazon = {\n            phone:  match(amazon_phone, ua),\n            tablet: !match(amazon_phone, ua) && match(amazon_tablet, ua),\n            device: match(amazon_phone, ua) || match(amazon_tablet, ua)\n        };\n        this.android = {\n            phone:  match(amazon_phone, ua) || match(android_phone, ua),\n            tablet: !match(amazon_phone, ua) && !match(android_phone, ua) && (match(amazon_tablet, ua) || match(android_tablet, ua)),\n            device: match(amazon_phone, ua) || match(amazon_tablet, ua) || match(android_phone, ua) || match(android_tablet, ua)\n        };\n        this.windows = {\n            phone:  match(windows_phone, ua),\n            tablet: match(windows_tablet, ua),\n            device: match(windows_phone, ua) || match(windows_tablet, ua)\n        };\n        this.other = {\n            blackberry:   match(other_blackberry, ua),\n            blackberry10: match(other_blackberry_10, ua),\n            opera:        match(other_opera, ua),\n            firefox:      match(other_firefox, ua),\n            chrome:       match(other_chrome, ua),\n            device:       match(other_blackberry, ua) || match(other_blackberry_10, ua) || match(other_opera, ua) || match(other_firefox, ua) || match(other_chrome, ua)\n        };\n        this.seven_inch = match(seven_inch, ua);\n        this.any = this.apple.device || this.android.device || this.windows.device || this.other.device || this.seven_inch;\n\n        // excludes 'other' devices and ipods, targeting touchscreen phones\n        this.phone = this.apple.phone || this.android.phone || this.windows.phone;\n\n        // excludes 7 inch devices, classifying as phone or tablet is left to the user\n        this.tablet = this.apple.tablet || this.android.tablet || this.windows.tablet;\n\n        if (typeof window === 'undefined') {\n            return this;\n        }\n    };\n\n    var instantiate = function() {\n        var IM = new IsMobileClass();\n        IM.Class = IsMobileClass;\n        return IM;\n    };\n\n    if (typeof module !== 'undefined' && module.exports && typeof window === 'undefined') {\n        //node\n        module.exports = IsMobileClass;\n    } else if (typeof module !== 'undefined' && module.exports && typeof window !== 'undefined') {\n        //browserify\n        module.exports = instantiate();\n    } else if (typeof define === 'function' && define.amd) {\n        //AMD\n        define('isMobile', [], global.isMobile = instantiate());\n    } else {\n        global.isMobile = instantiate();\n    }\n\n})(this);\n","var  Device = require('ismobilejs');\n\n// add some extra variables to the container..\nObject.assign(\n    PIXI.DisplayObject.prototype,\n    require('./accessibleTarget')\n);\n\n\n/**\n * The Accessibility manager reacreates the ability to tab and and have content read by screen readers. This is very important as it can possibly help people with disabilities access pixi content.\n * Much like interaction any DisplayObject can be made accessible. This manager will map the events as if the mouse was being used, minimizing the efferot required to implement.\n *\n * @class\n * @memberof PIXI\n * @param renderer {PIXI.CanvasRenderer|PIXI.WebGLRenderer} A reference to the current renderer\n */\nfunction AccessibilityManager(renderer)\n{\n\n    // first we create a div that will sit over the pixi element. This is where the div overlays will go.\n    var div = document.createElement('div');\n\n    div.style.width = 100 + 'px';\n    div.style.height = 100 + 'px';\n    div.style.position = 'fixed';\n    div.style.top = 0;\n    div.style.left = 0;\n   //\n    div.style.zIndex = 2;\n\n    /**\n     * This is the dom element that will sit over the pixi element. This is where the div overlays will go.\n     *\n     * @type {HTMLElement}\n     * @private\n     */\n    this.div = div;\n\n    /**\n     * A simple pool for storing divs.\n     *\n     * @type {Array}\n     * @private\n     */\n    this.pool = [];\n\n    /**\n     * This is a tick used to check if an object is no longer being rendered.\n     *\n     * @type {Number}\n     * @private\n     */\n    this.renderId = 0;\n\n    /**\n     * Setting this to true will visually show the divs\n     *\n     * @type {Boolean}\n     */\n    this.debug = false;\n\n    /**\n     * The renderer this accessibility manager works for.\n     *\n     * @member {PIXI.SystemRenderer}\n     */\n    this.renderer = renderer;\n\n    /**\n     * The array of currently active accessible items.\n     *\n     * @member {Array}\n     * @private\n     */\n    this.children = [];\n\n    /**\n     * pre bind the functions..\n     */\n    this._onKeyDown = this._onKeyDown.bind(this);\n    this._onMouseMove = this._onMouseMove.bind(this);\n\n    /**\n     * stores the state of the manager. If there are no accessible objects or the mouse is moving the will be false.\n     *\n     * @member {Array}\n     * @private\n     */\n    this.isActive = false;\n    this.isMobileAccessabillity = false;\n    this.isAlwaysOn = false;\n\n    // let listen for tab.. once pressed we can fire up and show the accessibility layer\n    window.addEventListener('keydown', this._onKeyDown, false);\n\n    //check for mobile specific solutions\n    if(this.isMobileDevice())\n    {\n        if (this.hasFocusEvents())\n        {\n            this.createTouchHook();\n        }\n        else\n        {\n            this.alwaysOn();\n        }\n    }\n}\n\n\nAccessibilityManager.prototype.constructor = AccessibilityManager;\nmodule.exports = AccessibilityManager;\n\n\n\n\n/**\n * some mobile devices fire Focus Events in accessibility mode eg. IOS Voiceover\n * other mobile devices do not fire Focus Events eg. Android Talkback or Kindle Fire VoiceView\n * default to false unless tested\n */\nAccessibilityManager.prototype.hasFocusEvents = function() {\n    return (Device.apple.device);\n}\n\n\nAccessibilityManager.prototype.isMobileDevice = function()\n{\n    return (Device.tablet || Device.phone);\n}\n\nAccessibilityManager.prototype.alwaysOn = function()\n{\n    this.isAlwaysOn = true;\n\n    //render is undefined until the next tick\n    setTimeout(this.activate.bind(this));\n}\n\n\n\nAccessibilityManager.prototype.createTouchHook = function()\n{\n    var hookDiv = document.createElement('button');\n    hookDiv.style.width = 1 + 'px';\n    hookDiv.style.height = 1 + 'px';\n    hookDiv.style.position = 'absolute';\n    hookDiv.style.top = -1000+'px';\n    hookDiv.style.left = -1000+'px';\n    hookDiv.style.zIndex = 2;\n    hookDiv.style.backgroundColor = '#FF0000';\n    hookDiv.title = 'HOOK DIV';\n\n    hookDiv.addEventListener('focus', function(){\n\n        this.isMobileAccessabillity = true;\n        this.activate();\n        document.body.removeChild(hookDiv);\n\n    }.bind(this));\n\n    document.body.appendChild(hookDiv);\n\n};\n\n/**\n * Sort children by tab index\n * The divs seem to tab in order of being added as a child regardless of the tab order set.\n * @param  {DOMElement} element the one which will have children sorted.\n */\nAccessibilityManager.prototype.sortChildrenByTabIndex = function()\n{\n    if (!this.isActive) return;\n    var element = this.div;\n    var children = element.childNodes;\n    var list = [];\n    for (var i = 0; i < children.length; i++) {\n        if (children[i].nodeType === 1) {\n            list.push(children[i]);\n        }\n    }\n\n    list = list.sort(function(a, b) {\n        var ta = a.getAttribute('tabindex');\n        var tb = b.getAttribute('tabindex');\n        return ta === tb ? 0 : tb > ta ? -1 : 1;\n    });\n\n    for (var j in list) {\n        element.appendChild(list[j]);\n    }\n}\n\n/**\n * Activating will cause the Accessibility layer to be shown. This is called when a user preses the tab key\n * @private\n */\nAccessibilityManager.prototype.activate = function()\n{\n    if(this.isActive)\n    {\n        return;\n    }\n\n    this.isActive = true;\n\n    window.document.addEventListener('mousemove', this._onMouseMove, true);\n    window.removeEventListener('keydown', this._onKeyDown, false);\n\n    this.renderer.on('postrender', this.update, this);\n\n    this.renderer.view.parentNode.appendChild(this.div);\n};\n\n/**\n * Deactivating will cause the Accessibility layer to be hidden. This is called when a user moves the mouse\n * @private\n */\nAccessibilityManager.prototype.deactivate = function()\n{\n    if(!this.isActive)\n    {\n        return;\n    }\n\n    this.isActive = false;\n\n    window.document.removeEventListener('mousemove', this._onMouseMove);\n    window.addEventListener('keydown', this._onKeyDown, false);\n\n    this.renderer.off('postrender', this.update);\n\n    this.div.parentNode.removeChild(this.div);\n\n};\n\n/**\n * This recursive function will run throught he scene graph and add any new accessible objects to the DOM layer.\n * @param element {PIXI.Container|PIXI.Sprite|PIXI.extras.TilingSprite} the DisplayObject to check.\n * @private\n */\nAccessibilityManager.prototype.updateAccessibleObjects = function(DisplayObject)\n{\n    if(!DisplayObject.visible)\n    {\n        return;\n    }\n\n    if(DisplayObject.accessible)\n    {\n        if(!DisplayObject._accessibleActive)\n        {\n            this.addChild(DisplayObject);\n        }\n\n        DisplayObject.renderId = this.renderId;\n    }\n\n    var children = DisplayObject.children;\n\n    for (var i = children.length - 1; i >= 0; i--) {\n\n        this.updateAccessibleObjects(children[i]);\n    }\n};\n\n\n/**\n * Sort children by tab index\n * The divs seem to tab in order of being added as a child regardless of the tab order set\n * This sorts the children whenever a new one is set\n * @param  {DOMElement} element the one which will have children sorted.\n */\nAccessibilityManager.prototype.updateTabOrders = function()\n{\n    if (!this._tabOrderDirty) return;\n\n    var element = this.div;\n    var children = element.childNodes;\n\n    var list = [];\n    for (var i = 0; i < children.length; i++) {\n        if (children[i].nodeType === 1) {\n            list.push(children[i]);\n        }\n    }\n\n    list = list.sort(function(a, b) {\n        var ta = a.getAttribute('tabindex');\n        var tb = b.getAttribute('tabindex');\n        return ta === tb ? 0 : tb > ta ? -1 : 1;\n    });\n\n    for (var j in list) {\n        element.appendChild(list[j]);\n    }\n\n    this._tabOrderDirty = false;\n}\n\n\n/**\n * Before each render this function will ensure that all divs are mapped correctly to their DisplayObjects\n * @private\n */\nAccessibilityManager.prototype.update = function()\n{\n    //change this to strict equality comparison so that it will work with PIXI v3 where renderingToScreen is not set.\n    if (this.renderer.renderingToScreen === false) {\n       return;\n    }\n\n    // update children...\n    this.updateAccessibleObjects(this.renderer._lastObjectRendered);\n\n    //sort out tab orders\n    this.updateTabOrders();\n\n    var rect = this.renderer.view.getBoundingClientRect();\n    var sx = rect.width  / this.renderer.width;\n    var sy = rect.height / this.renderer.height;\n\n    var div = this.div;\n\n    div.style.left = rect.left + 'px';\n    div.style.top = rect.top + 'px';\n    div.style.width = this.renderer.width + 'px';\n    div.style.height = this.renderer.height + 'px';\n\n    //div.style.bor\n\n    for (var i = 0; i < this.children.length; i++)\n    {\n\n        var child = this.children[i];\n\n        if(child.renderId !== this.renderId)\n        {\n            child._accessibleActive = false;\n\n            this.children.splice(i, 1);\n            this.div.removeChild( child._accessibleDiv );\n            this.pool.push(child._accessibleDiv);\n            child._accessibleDiv = null;\n\n            i--;\n\n            if(this.children.length === 0)\n            {\n                this.deactivate();\n            }\n        }\n        else\n        {\n            // map div to display..\n            div = child._accessibleDiv;\n            var hitArea = child.hitArea;\n            var wt = child.worldTransform;\n\n            if(child.hitArea)\n            {\n                div.style.left = ((wt.tx + (hitArea.x * wt.a)) * sx) + 'px';\n                div.style.top =  ((wt.ty + (hitArea.y * wt.d)) * sy) +  'px';\n\n                div.style.width = (hitArea.width * wt.a * sx) + 'px';\n                div.style.height = (hitArea.height * wt.d * sy) + 'px';\n\n            }\n            else\n            {\n                hitArea = child.getBounds();\n\n                this.capHitArea(hitArea);\n\n                div.style.left = (hitArea.x * sx) + 'px';\n                div.style.top =  (hitArea.y * sy) +  'px';\n\n                div.style.width = (hitArea.width * sx) + 'px';\n                div.style.height = (hitArea.height * sy) + 'px';\n            }\n        }\n    }\n\n    // increment the render id..\n    this.renderId++;\n};\n\nAccessibilityManager.prototype.capHitArea = function (hitArea)\n{\n    if (hitArea.x < 0)\n    {\n        hitArea.width += hitArea.x;\n        hitArea.x = 0;\n    }\n\n    if (hitArea.y < 0)\n    {\n        hitArea.height += hitArea.y;\n        hitArea.y = 0;\n    }\n\n    if ( hitArea.x + hitArea.width > this.renderer.width )\n    {\n        hitArea.width = this.renderer.width - hitArea.x;\n    }\n\n    if ( hitArea.y + hitArea.height > this.renderer.height )\n    {\n        hitArea.height = this.renderer.height - hitArea.y;\n    }\n};\n\n\n/**\n * Adds a DisplayObject to the accessibility manager\n * @private\n */\nAccessibilityManager.prototype.addChild = function(displayObject)\n{\n//  this.activate();\n\n    var div = this.pool.pop();\n\n    if(!div)\n    {\n        div = document.createElement('button');\n\n        div.style.width = 100 + 'px';\n        div.style.height = 100 + 'px';\n        div.style.backgroundColor = this.debug ? 'rgba(255,0,0,0.5)' : 'transparent';\n        div.style.position = 'absolute';\n        div.style.zIndex = 2;\n        div.style.borderStyle = 'none';\n\n\n        if (this.isAlwaysOn) {\n            //remove the focus highlight from the div so you cannot see the hidden div during normal touch to click\n            div.style['-webkit-tap-highlight-color'] = 'rgba(0,0,0,0)';\n            div.style.border = 0;\n            div.style.outline = 'none';\n        }\n\n        div.addEventListener('click', this._onClick.bind(this));\n        div.addEventListener('focus', this._onFocus.bind(this));\n        div.addEventListener('focusout', this._onFocusOut.bind(this));\n    }\n\n\n\n\n    div.title = displayObject.accessibleTitle || 'displayObject ' + this.tabIndex;\n\n    //\n\n    displayObject._accessibleActive = true;\n    displayObject._accessibleDiv = div;\n    div.displayObject = displayObject;\n\n\n    this.children.push(displayObject);\n    this.div.appendChild( displayObject._accessibleDiv );\n    displayObject._accessibleDiv.tabIndex = displayObject.tabIndex;\n\n    //set this to true so we know to sort the tab order of the divs\n    this._tabOrderDirty = true;\n};\n\n\n/**\n * Maps the div button press to pixi's InteractionManager (click)\n * @private\n */\nAccessibilityManager.prototype._onClick = function(e)\n{\n    var interactionManager = this.renderer.plugins.interaction;\n    interactionManager.dispatchEvent(e.target.displayObject, 'click', interactionManager.eventData);\n};\n\n/**\n * Maps the div focus events to pixis InteractionManager (mouseover)\n * @private\n */\nAccessibilityManager.prototype._onFocus = function(e)\n{\n    var interactionManager = this.renderer.plugins.interaction;\n    interactionManager.dispatchEvent(e.target.displayObject, 'mouseover', interactionManager.eventData);\n};\n\n/**\n * Maps the div focus events to pixis InteractionManager (mouseout)\n * @private\n */\nAccessibilityManager.prototype._onFocusOut = function(e)\n{\n    var interactionManager = this.renderer.plugins.interaction;\n    interactionManager.dispatchEvent(e.target.displayObject, 'mouseout', interactionManager.eventData);\n};\n\n/**\n * Is called when a key is pressed\n *\n * @private\n */\nAccessibilityManager.prototype._onKeyDown = function(e)\n{\n    if(e.keyCode !== 9)\n    {\n        return;\n    }\n\n    this.activate();\n};\n\n/**\n * Is called when the mouse moves across the renderer element\n *\n * @private\n */\nAccessibilityManager.prototype._onMouseMove = function()\n{\n    this.deactivate();\n};\n\n\n/**\n * Destroys the accessibility manager\n *\n */\nAccessibilityManager.prototype.destroy = function ()\n{\n    this.div = null;\n\n    for (var i = 0; i < this.children.length; i++)\n    {\n        this.children[i].div = null;\n    }\n\n    window.document.removeEventListener('mousemove', this._onMouseMove);\n    window.removeEventListener('keydown', this._onKeyDown);\n\n    this.pool = null;\n    this.children = null;\n    this.renderer = null;\n};\n\nPIXI.WebGLRenderer.registerPlugin('accessibility', AccessibilityManager);\nPIXI.CanvasRenderer.registerPlugin('accessibility', AccessibilityManager);\n\n","/**\r\n * Default property values of accessible objects\r\n * used by {@link PIXI.accessibility.AccessibilityManager}.\r\n *\r\n * @mixin\r\n * @memberof PIXI\r\n * @example\r\n *      function MyObject() {}\r\n *\r\n *      Object.assign(\r\n *          MyObject.prototype,\r\n *          PIXI.accessibility.accessibleTarget\r\n *      );\r\n */\r\nvar accessibleTarget = {\r\n    \r\n    /**\r\n     * @todo Needs docs.\r\n     */\r\n    accessible:false,\r\n\r\n    /**\r\n     * @todo Needs docs.\r\n     */\r\n    accessibleTitle:null,\r\n\r\n    /**\r\n     * @todo Needs docs.\r\n     */\r\n    tabIndex:0,\r\n\r\n    /**\r\n     * @todo Needs docs.\r\n     */\r\n    _accessibleActive:false,\r\n\r\n    /**\r\n     * @todo Needs docs.\r\n     */\r\n    _accessibleDiv:false\r\n\r\n};\r\n\r\nmodule.exports = accessibleTarget;\r\n","/**\r\n * @file        Main export of the PIXI accessibility library\r\n * @author      Mat Groves <mat@goodboydigital.com>\r\n * @copyright   2013-2015 GoodBoyDigital\r\n * @license     {@link https://github.com/pixijs/pixi.js/blob/master/LICENSE|MIT License}\r\n */\r\n\r\n/**\r\n * @namespace PIXI.interaction\r\n */\r\nmodule.exports = PIXI.accessibility = {\r\n    accessibleTarget:     require('./accessibleTarget'),\r\n    AccessibilityManager: require('./AccessibilityManager')\r\n};\r\n"]}